# ============================================================================
# CONFIGURACIÓN DEL SISTEMA - VARIABLES DE AMBIENTE
# ============================================================================
# Proyecto: Chat Multiusuario + Firma Digital + Google Integration
# Version: 5.0
# ============================================================================
# Copia este archivo a .env y configura tus valores personalizados
# IMPORTANTE: NO subas el archivo .env a control de versiones (Git)
# ============================================================================

#############################
# SERVIDOR WEBSOCKET (CHAT)
#############################
SERVER_HOST=localhost
SERVER_PORT=5555

# Tipo de cifrado: "simetrico" o "asimetrico"
# Nota: Esta variable puede ser sobreescrita por el menú interactivo
TIPO_CIFRADO=simetrico

#############################
# SERVIDOR REST API (FIRMA DIGITAL)
#############################
# Puerto para la API REST (FastAPI)
API_HOST=localhost
API_PORT=5000

# CORS - Orígenes permitidos (separados por coma)
# Para desarrollo local con React en puerto 3000
CORS_ORIGINS=http://localhost:3000,http://localhost:5173

# Modo de la API
API_ENV=development
# development: logs detallados, CORS permisivo
# production: logs reducidos, CORS restrictivo

#############################
# SSL/TLS
#############################
# Auto-generar certificados si no existen
SSL_AUTO_GENERAR=true
# Rutas de certificados (se crean en ./certs si no existen)
SSL_CERT_FILE=certs/server.crt
SSL_KEY_FILE=certs/server.key
SSL_CERT_VALIDITY_DAYS=365

# Compatibilidad con nomenclatura previa
SSL_CERT_PATH=certs/server.crt
SSL_KEY_PATH=certs/server.key
SSL_CERT_DAYS=365

#############################
# CIFRADO SIMETRICO (Fernet)
#############################
CLAVE_SECRETA=mi_clave_super_secreta_2025_chat_grupal_v4
SALT=salt_estatico_seguro_2025_v4
PBKDF2_ITERATIONS=100000

# Compatibilidad con nomenclatura previa
SYMMETRIC_SECRET_KEY=mi_clave_super_secreta_2025_chat_grupal_v4
SYMMETRIC_SALT=salt_estatico_seguro_2025_v4

#############################
# CIFRADO ASIMETRICO (RSA)
#############################
# Pega PEM completas entre comillas si usas asimetrico
CLAVE_PRIVADA_PEM=""
CLAVE_PUBLICA_PEM=""
RSA_KEY_SIZE=2048
RSA_PRIVATE_KEY_PATH=keys/rsa_private.pem
RSA_PUBLIC_KEY_PATH=keys/rsa_public.pem

#############################
# FIRMA DIGITAL
#############################
# Clave privada para firmar documentos (usa la misma RSA o genera una nueva)
SIGNATURE_PRIVATE_KEY_PATH=keys/signature_private.pem
SIGNATURE_PUBLIC_KEY_PATH=keys/signature_public.pem
SIGNATURE_KEY_SIZE=2048

# Directorio para almacenar documentos firmados
SIGNED_DOCUMENTS_PATH=signed_documents

# Directorio para almacenar documentos temporales (antes de firmar)
TEMP_DOCUMENTS_PATH=temp_documents

# Tiempo máximo de vida de archivos temporales (en segundos)
TEMP_FILE_LIFETIME=3600

#############################
# GOOGLE APIS - OAUTH 2.0
#############################
# Ruta al archivo de credenciales de Google Cloud
GOOGLE_CREDENTIALS_FILE=client_secret_244625168933-9kuftvafdqhheerj0r3uddjrcbk1p1dg.apps.googleusercontent.com.json

# Ruta donde se guardarán los tokens de acceso OAuth
GOOGLE_TOKEN_FILE=tokens/google_token.json

# Scopes de Google (permisos requeridos)
# https://www.googleapis.com/auth/drive.file - Subir archivos a Drive
# https://www.googleapis.com/auth/gmail.send - Enviar correos
GOOGLE_SCOPES=https://www.googleapis.com/auth/drive.file,https://www.googleapis.com/auth/gmail.send

# ID de la carpeta de Google Drive donde se subirán los documentos
# Dejar vacío para subir a "Mi unidad" (raíz)
# Para obtener el ID: abre la carpeta en Drive y copia el ID de la URL
# Ejemplo: https://drive.google.com/drive/folders/1ABC123xyz... → ID = 1ABC123xyz...
GOOGLE_DRIVE_FOLDER_ID=

#############################
# EMAIL - NOTIFICACIONES
#############################
# Email del remitente (debe ser el mismo de la cuenta OAuth)
EMAIL_FROM=tu-email@gmail.com

# Plantilla de asunto para correos de autorización
EMAIL_SUBJECT_TEMPLATE=Autorización para Firma Digital - {document_name}

# Plantilla de mensaje
EMAIL_BODY_TEMPLATE=Se le ha otorgado permiso para firmar el documento: {document_name}

#############################
# BASE DE DATOS - MYSQL
#############################
# Configuración de conexión a MySQL
DB_HOST=localhost
DB_PORT=3306
DB_NAME=chatsec
DB_USER=root
DB_PASSWORD=

#############################
# SEGURIDAD
#############################
# Secret key para JWT (generar una aleatoria en producción)
JWT_SECRET_KEY=your-secret-key-change-this-in-production-2025

# Tiempo de expiración de tokens JWT (en minutos)
# 1440 minutos = 24 horas
JWT_EXPIRATION_MINUTES=1440

# Máximo tamaño de archivo permitido (en MB)
MAX_FILE_SIZE_MB=10
